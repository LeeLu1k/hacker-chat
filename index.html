<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Anonymous Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#00ff00">

  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      height: 100vh;
      background: #000;
      color: #00ff00;
      font-family: 'Share Tech Mono', monospace;
      display: flex;
      flex-direction: column;
    }
    header, footer {
      padding: 8px;
      border: 1px solid #00ff00;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #messages {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
      display: none;
      flex-direction: column;
      gap: 6px;
    }
    .msg {
      max-width: 75%;
      padding: 6px;
      border: 1px solid #00ff00;
      font-size: 14px;
    }
    .me { align-self: flex-end; background: #003300; }
    .other { align-self: flex-start; }
    footer { display: none; gap: 6px; }
    input, button {
      background: black;
      color: #00ff00;
      border: 1px solid #00ff00;
      font-family: inherit;
      padding: 6px;
    }
    #pinScreen {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }
  </style>
</head>

<body>

<header>
  <div>ANON CHAT</div>
  <button id="notifyBtn">ðŸ”” PUSH</button>
</header>

<div id="pinScreen">
  <div>ENTER PIN</div>
  <input id="pinInput" type="password">
  <button onclick="checkPin()">OK</button>
</div>

<div id="messages"></div>

<footer>
  <input id="msg" placeholder="message">
  <button onclick="send()">SEND</button>
</footer>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-messaging-compat.js"></script>

<script src="./app.js"></script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("./firebase-messaging-sw.js");
}
</script>

</body>
</html>
